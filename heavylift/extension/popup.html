<!-- popup.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Heavylift</title>

    <style>
      body {
        font-family: Arial, sans-serif;
        width: 360px;
        margin: 0;
        padding: 12px;
      }

      h2 {
        margin: 0 0 8px 0;
        font-size: 16px;
      }

      h3 {
        margin: 10px 0 6px 0;
        font-size: 14px;
      }

      .row {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .row > * {
        flex: 1;
      }

      label {
        font-size: 12px;
        color: #333;
      }

      input,
      select,
      button {
        width: 100%;
        box-sizing: border-box;
        padding: 6px 8px;
        margin-top: 4px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 12px;
      }

      button {
        cursor: pointer;
        background: #f7f7f7;
      }

      button:hover {
        background: #efefef;
      }

      .top-actions {
        display: flex;
        gap: 8px;
      }

      .top-actions button {
        width: auto;
        flex: 1;
      }

      #status {
        margin-top: 8px;
        font-size: 12px;
        color: #0b5;
        min-height: 16px;
      }

      hr {
        border: none;
        border-top: 1px solid #ddd;
        margin: 12px 0;
      }

      /* Tabs */
      .tabs {
        display: flex;
        gap: 8px;
        margin-top: 10px;
      }

      .tabs button {
        flex: 1;
        background: #f2f2f2;
      }

      .tabs button.active {
        background: #dfefff;
        border-color: #8bb6ff;
      }

      .tab-panel {
        display: none;
        margin-top: 10px;
      }

      .tab-panel.active {
        display: block;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }

      .grid-1 {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
      }

      #fieldList {
        margin-top: 10px;
        max-height: 160px;
        overflow: auto;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 8px;
      }

      .field-item {
        padding: 6px 0;
        border-bottom: 1px solid #f0f0f0;
      }

      .field-item:last-child {
        border-bottom: none;
      }

      .field-item .label {
        font-size: 12px;
        font-weight: 600;
      }

      .field-item .meta {
        font-size: 11px;
        color: #666;
        margin-top: 2px;
      }

      .small {
        font-size: 11px;
        color: #555;
      }
    </style>
  </head>

  <body>
    <h2>Heavylift</h2>

    <!-- Top actions -->
    <div class="top-actions">
      <button id="scanBtn">Scan</button>
      <button id="testFillBtn">Test Fill</button>
      <button id="fillProfileBtn">Fill from Saved</button>
    </div>

    <div id="status"></div>

    <div id="fieldList">
      <p class="small">Click Scan to detect fields on the current page.</p>
    </div>

    <hr />

    <!-- Backend storage section -->
    <h3>Backend Storage</h3>

    <div class="grid-1">
      <div>
        <label>Profile name</label>
        <div class="row">
          <input id="profileNameInput" type="text" placeholder="e.g., Default / Workday" />
          <button id="createProfileBtn" style="max-width: 110px">Create</button>
        </div>
      </div>

      <div>
        <label>Saved profiles</label>
        <select id="profilesSelect"></select>
      </div>

      <div>
        <label>Saved versions</label>
        <select id="versionsSelect"></select>
      </div>

      <div class="row">
        <button id="saveVersionBtn">Save version</button>
        <button id="loadVersionBtn">Load version</button>
      </div>

      <div>
        <label>Resume upload</label>
        <div class="row">
          <input id="resumeFileInput" type="file" />
          <button id="uploadResumeBtn" style="max-width: 110px">Upload</button>
        </div>
        <div id="resumeStatus" class="small" style="margin-top: 6px"></div>
      </div>
    </div>

    <hr />

    <!-- Tabs -->
    <div class="tabs">
      <button id="tabProfileBtn" class="active">Profile</button>
      <button id="tabPrefsBtn">Preferences</button>
    </div>

    <!-- Profile tab -->
    <div id="tab-profile" class="tab-panel active">
      <h3>Profile</h3>

      <div class="grid">
        <div>
          <label>First name</label>
          <input id="profileFirstName" type="text" />
        </div>
        <div>
          <label>Middle name</label>
          <input id="profileMiddleName" type="text" />
        </div>

        <div>
          <label>Last name</label>
          <input id="profileLastName" type="text" />
        </div>
        <div>
          <label>Preferred name</label>
          <input id="profilePreferredName" type="text" />
        </div>

        <div style="grid-column: 1 / -1">
          <label>Full name</label>
          <input id="profileFullName" type="text" />
        </div>

        <div>
          <label>Email</label>
          <input id="profileEmail" type="email" />
        </div>
        <div>
          <label>Mobile phone</label>
          <input id="profilePhoneMobile" type="tel" />
        </div>

        <div>
          <label>Home phone</label>
          <input id="profilePhoneHome" type="tel" />
        </div>
        <div>
          <label>Work phone</label>
          <input id="profilePhoneWork" type="tel" />
        </div>

        <div>
          <label>City</label>
          <input id="profileCity" type="text" />
        </div>
        <div>
          <label>State</label>
          <input id="profileState" type="text" />
        </div>

        <div>
          <label>Country</label>
          <input id="profileCountry" type="text" />
        </div>
        <div>
          <label>Postal code</label>
          <input id="profilePostalCode" type="text" />
        </div>

        <div style="grid-column: 1 / -1">
          <label>Location (combined)</label>
          <input id="profileLocationCombined" type="text" />
        </div>

        <div>
          <label>LinkedIn</label>
          <input id="profileLinkedIn" type="url" />
        </div>
        <div>
          <label>GitHub</label>
          <input id="profileGithub" type="url" />
        </div>

        <div style="grid-column: 1 / -1">
          <label>Portfolio</label>
          <input id="profilePortfolio" type="url" />
        </div>

        <div>
          <label>Current company</label>
          <input id="profileCurrentCompany" type="text" />
        </div>
        <div>
          <label>Current title</label>
          <input id="profileCurrentTitle" type="text" />
        </div>

        <div>
          <label>Years total</label>
          <input id="profileYearsTotal" type="text" />
        </div>
        <div>
          <label>Years relevant</label>
          <input id="profileYearsRelevant" type="text" />
        </div>

        <div>
          <label>Education level</label>
          <input id="profileEducationLevel" type="text" />
        </div>
        <div>
          <label>Field of study</label>
          <input id="profileFieldOfStudy" type="text" />
        </div>

        <div>
          <label>Institution</label>
          <input id="profileInstitutionName" type="text" />
        </div>
        <div>
          <label>Graduation year</label>
          <input id="profileGraduationYear" type="text" />
        </div>

        <div style="grid-column: 1 / -1">
          <h3>Demographics (optional)</h3>
          <div class="small">
            Only fill these if you actually want them stored and auto-filled.
          </div>
        </div>

        <div>
          <label>Date of birth</label>
          <input id="profileDateOfBirth" type="text" placeholder="YYYY-MM-DD" />
        </div>
        <div>
          <label>Race / Ethnicity</label>
          <input id="profileRaceEthnicity" type="text" />
        </div>

        <div>
          <label>Gender</label>
          <input id="profileGender" type="text" />
        </div>
        <div>
          <label>Disability status</label>
          <input id="profileDisabilityStatus" type="text" />
        </div>

        <div>
          <label>Veteran status</label>
          <input id="profileVeteranStatus" type="text" />
        </div>
        <div>
          <label>Sexual orientation</label>
          <input id="profileSexualOrientation" type="text" />
        </div>

        <div style="grid-column: 1 / -1">
          <label>Criminal history</label>
          <input id="profileCriminalHistory" type="text" />
        </div>

        <div class="row" style="grid-column: 1 / -1">
          <button id="saveProfileBtn">Save Profile (local)</button>
        </div>
      </div>
    </div>

    <!-- Preferences tab -->
    <div id="tab-preferences" class="tab-panel">
      <h3>Preferences</h3>

      <div class="grid">
        <div>
          <label>Work auth country</label>
          <input id="prefWorkAuthCountry" type="text" />
        </div>
        <div>
          <label>Work auth US</label>
          <input id="prefWorkAuthUS" type="text" />
        </div>

        <div>
          <label>Need sponsorship (future)</label>
          <input id="prefNeedSponsorship" type="text" />
        </div>
        <div>
          <label>Eligible to work in country X</label>
          <input id="prefEligibleCountry" type="text" />
        </div>

        <div>
          <label>Preferred location</label>
          <input id="prefPreferredLocation" type="text" />
        </div>
        <div>
          <label>Willing to relocate</label>
          <input id="prefRelocate" type="text" />
        </div>

        <div>
          <label>On-site OK</label>
          <input id="prefOnSiteOk" type="text" />
        </div>
        <div>
          <label>Hybrid OK</label>
          <input id="prefHybridOk" type="text" />
        </div>

        <div>
          <label>Max travel %</label>
          <input id="prefTravelMax" type="text" />
        </div>
        <div>
          <label>Notice period</label>
          <input id="prefNoticePeriod" type="text" />
        </div>

        <div>
          <label>Earliest start date</label>
          <input id="prefEarliestStart" type="text" />
        </div>
        <div>
          <label>Salary expectations</label>
          <input id="prefSalaryExpectations" type="text" />
        </div>

        <div style="grid-column: 1 / -1">
          <label>Hourly rate expectations</label>
          <input id="prefHourlyRate" type="text" />
        </div>

        <div class="row" style="grid-column: 1 / -1">
          <button id="savePreferencesBtn">Save Preferences (local)</button>
        </div>
      </div>
    </div>

    <!-- IMPORTANT: point to your compiled popup script -->
    <script src="dist/popup.js"></script>
  </body>
</html>
